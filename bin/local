#!/bin/bash

case "$1" in
    "google" )
        echo "nameserver 8.8.8.8" > /etc/resolv.conf
        ;;
    "office" )
        echo "nameserver 192.168.20.2" > /etc/resolv.conf
        echo "nameserver 192.168.21.100" >> /etc/resolv.conf
        echo "search cname.s" >> /etc/resolv.conf

        ip a | grep ppp0 -q

        if [ $? -eq 0 ]; then
            ip r a 192.168.160.0/24 dev ppp0
            ip r a 192.168.44.0/24 dev ppp0
            ip r a 192.168.23.0/24 dev ppp0
            ip r a 192.168.22.0/24 dev ppp0
            ip r a 192.168.21.0/24 dev ppp0
            ip r a 192.168.20.0/24 dev ppp0
            ip r a 192.168.0.0/24 dev ppp0
            ip r a 192.168.2.0/24 dev ppp0
            ip r a 192.168.4.0/24 dev ppp0
            ip r a 192.168.5.0/24 dev ppp0
            ip r a 172.28.0.0/16 dev ppp0
            ip r a 172.16.0.0/16 dev ppp0
        fi
        ;;
    * )
        echo "wut?"
        exit 1
        ;;
esac
