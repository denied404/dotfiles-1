#!/bin/bash

split=""
cmd=()
for file in "${@}"; do
    if [[ "$split" == "" ]]; then
        cmd+=("+e ${file}")
        split="horizontal"
        continue
    fi

    if [[ "$split" == "horizontal" ]]; then
        cmd+=("+sp ${file}")
        split="vertical"
        continue
    fi

    if [[ "$split" == "vertical" ]]; then
        cmd+=("+vsp ${file}")
        split="horizontal"
        continue
    fi
done

vim "${cmd[@]}"
