#!/bin/bash

#[ -n "$_LOCK" ] || _LOCK=x exec flock -n $0 $0 "$@"

:main() {
    local action=$1

    local status="$(:change "$action")"

    :notify "$status"
}

:notify() {
    local value=$1
    notify-send.sh -r 300 -t 100 " " -- "<b>VOLUME</b>   ${value}%"
}

:change() {
    local action=$1

    case $action in
        up)
            volumectl -f '%.0f' up 1
        ;;

        down)
            volumectl -f '%.0f' down 1
        ;;
    esac
}


:main "${@}"
