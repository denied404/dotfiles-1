#!/bin/bash

export PATH=$HOME/bin/:$HOME/go/bin/:$PATH
export SHELL=/bin/zsh
export TERMINAL=urxvt
export EDITOR=/usr/bin/vim
export LANG=en_US.UTF-8
export LC_ALL=en_US.UTF-8

export BACKGROUND=$(cat $HOME/background)

xrandr \
    --output VGA1  --mode 1920x1080 --pos 0x0 \
    --output HDMI1 --mode 1920x1080 --pos 1920x0 &

reconfig-kbd &

if [ -z `pidof charge` ]; then
    sudo charge &
fi

if [ -z `pidof shift-shift` ]; then
    sudo ~/go/bin/shift-shift -match "razer" >/dev/null 2>&1 &
    sudo ~/go/bin/shift-shift >/dev/null 2>&1 &
fi

if [ -z `pidof keynav` ]; then
    keynav &
fi

if [ -z `pidof redshift` ]; then
    redshift -c ~/.config/redshift.conf &
fi

if [ -z `pidof mcabber-auto-esc` ]; then
    mcabber-auto-esc &
fi

if [ -z `pidof urxvtd` ]; then
    urxvtd &
fi

xset dpms 0 0 0
xset s off

feh --bg-scale ~/wallpaper.jpg &

xrdb -load ~/.Xresources
background $BACKGROUND &
